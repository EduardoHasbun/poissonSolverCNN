\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{codes}[Setup para importar codigos]

\RequirePackage{color}  %codigos 
\RequirePackage{listings} %codigos 
\RequirePackage{setspace} %codigos 
% \RequirePackage{verbatim}

\RequirePackage{algorithm}
\RequirePackage{algpseudocode}
\renewcommand{\ALG@name}{Algoritmo}

\RequirePackage[most]{tcolorbox}
\RequirePackage{inconsolata}

%setup para codigos
\definecolor{Code}{rgb}{0,0,0}
\definecolor{Decorators}{rgb}{0.5,0.5,0.5}
\definecolor{Numbers}{rgb}{0.5,0,0}
\definecolor{MatchingBrackets}{rgb}{0.25,0.5,0.5}
\definecolor{Keywords}{rgb}{0,0,1}
\definecolor{self}{rgb}{0,0,0}
\definecolor{Strings}{rgb}{0,0.63,0}
\definecolor{Comments}{rgb}{0,0.63,1}
\definecolor{Backquotes}{rgb}{0,0,0}
\definecolor{Classname}{rgb}{0,0,0}
\definecolor{FunctionName}{rgb}{0,0,0}
\definecolor{Operators}{rgb}{0,0,0}
\definecolor{Background}{rgb}{0.98,0.98,0.98}
\definecolor{mygreen}{RGB}{28,172,0} 
\definecolor{mylilas}{RGB}{170,55,241}

%python
\lstdefinelanguage{Pythonn}{
numbers=left,
numberstyle=\footnotesize,
numbersep=1em,
xleftmargin=1em,
framextopmargin=2em,
framexbottommargin=2em,
showspaces=false,
showtabs=false,
showstringspaces=false,
frame=l,
tabsize=4,
% Basic
basicstyle=\ttfamily\small\setstretch{1},
backgroundcolor=\color{Background},
% Comments
commentstyle=\color{Comments}\slshape,
% Strings
stringstyle=\color{mylilas},
morecomment=[s][\color{mylilas}]{"}{"},
morecomment=[s][\color{mylilas}]{'}{'},
% keywords
morekeywords={import,from,class,def,for,while,if,is,in,elif,else,not,input,and,or,print,break,continue,return,True,False,None,access,as,,del,except,exec,finally,global,import,lambda,pass,print,raise,try,assert,input},
keywordstyle={\color{Keywords}\bfseries},
% additional keywords
morekeywords={[2]@invariant,self},
keywordstyle={[2]\color{Decorators}\slshape},
%emph={self},
%emphstyle={\color{self}\slshape},
breaklines=true,
}
\linespread{1.3}

%matlab
\lstdefinelanguage{Matlabb}{
numbers=left,
numberstyle=\footnotesize,
numbersep=1em,
xleftmargin=1em,
framextopmargin=2em,
framexbottommargin=2em,
showspaces=false,
showtabs=false,
showstringspaces=false,
frame=l,
tabsize=4,
% Basic
basicstyle=\ttfamily\small\setstretch{1},
backgroundcolor=\color{Background},
% Comments
commentstyle=\color{Comments}\slshape,
% Strings
stringstyle=\color{mylilas},
morecomment=[s][\color{mylilas}]{"}{"},
morecomment=[s][\color{mylilas}]{'}{'},
% keywords
morekeywords={function,if,while,end,else,on,for},
keywordstyle={\color{Keywords}\bfseries},
% additional keywords
keywordstyle={[2]\color{Decorators}\slshape},
emph={self},
emphstyle={\color{self}\slshape},
}
\linespread{1.3}

%Fortran
\lstdefinelanguage{Fortrann}{
numbers=left,
numberstyle=\footnotesize,
numbersep=1em,
xleftmargin=1em,
framextopmargin=2em,
framexbottommargin=2em,
showspaces=false,
showtabs=false,
showstringspaces=false,
frame=l,
tabsize=4,
% Basic
basicstyle=\ttfamily\small\setstretch{1},
backgroundcolor=\color{Background},
% Comments
commentstyle=\color{Comments}\slshape,
% Strings
stringstyle=\color{mylilas},
morecomment=[s][\color{mylilas}]{"}{"},
morecomment=[s][\color{mylilas}]{'}{'},
% keywords
morekeywords={function,if,while,end,else,on,do,write,real,integer,::,call,program,subroutine,contains,use,intent,bind,value,parameter},
keywordstyle={\color{Keywords}\bfseries},
% additional keywords
keywordstyle={[2]\color{Decorators}\slshape},
emph={self},
emphstyle={\color{self}\slshape},
breaklines=true
}
\linespread{1.3}

\newcommand{\importmatlab}[2][]{
    \ifx&#1&%
    \lstinputlisting[language=Matlabb]{#2}
  \else
  \lstinputlisting[language=Matlabb,caption=#1]{#2}
  \fi    
}

\newcommand{\importpython}[2][]{
    \ifx&#1&%
    \lstinputlisting[language=Pythonn]{#2}
  \else
  \lstinputlisting[language=Pythonn,caption=#1]{#2}
  \fi    
}

\newcommand{\importfortran}[2][]{
    \ifx&#1&%
    \lstinputlisting[language=Fortrann]{#2}
  \else
  \lstinputlisting[language=Fortrann,caption=#1]{#2}
  \fi    
}

\renewcommand{\lstlistingname}{CÃ³digo}

\newtcblisting[auto counter]{pythonboxtil}[2][]{sharp corners, 
    fonttitle=\bfseries, colframe=gray, listing only, 
    listing options={basicstyle=\ttfamily\linespread{0.8},language=Python}, 
    title=Algoritmo \thetcbcounter: #2, #1}

\newtcblisting[auto counter]{matlabboxtil}[2][]{sharp corners, 
fonttitle=\bfseries, colframe=gray, listing only, 
listing options={basicstyle=\ttfamily\linespread{0.8},language=Matlab}, 
title=Algoritmo \thetcbcounter: #2, #1}

\newtcblisting[auto counter]{fortranboxtil}[2][]{sharp corners, 
fonttitle=\bfseries, colframe=gray, listing only, 
listing options={basicstyle=\ttfamily\linespread{0.8},language=Fortran}, 
title=Algoritmo \thetcbcounter: #2, #1}

\newtcblisting[auto counter]{fortranbox}[2][]{sharp corners, 
fonttitle=\bfseries, colframe=gray, listing only, 
listing options={basicstyle=\ttfamily\linespread{0.8},language=Fortran}, #1}
 

\newtcblisting[auto counter]{pythonbox}[2][]{sharp corners, 
fonttitle=\bfseries, colframe=gray, listing only, 
listing options={basicstyle=\ttfamily\linespread{0.8},language=Python}, #1}

\newtcblisting[auto counter]{matlabboxx}[2][]{sharp corners, 
fonttitle=\bfseries, colframe=gray, listing only, 
listing options={basicstyle=\ttfamily\linespread{0.8},language=Matlab}, #1}
